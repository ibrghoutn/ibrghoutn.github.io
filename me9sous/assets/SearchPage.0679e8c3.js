import{_ as M}from"./_plugin-vue_export-helper.cdc0426e.js";import{az as g,X as k,a3 as w,b2 as U,a2 as Me,bt as $e,Y as m,D as F,aH as C,I,aF as H,A as te,bH as je,bI as Re,V as S,bJ as Ve,a5 as $,aG as J,W as B,b4 as Ze,bo as Ae,al as Oe,k as v,aZ as O,at as oe,ap as q,b6 as re,aC as ne,aA as le,u as z,ag as x,U as G,aB as A,m as L,H as Le,bK as Ne}from"./index.e8b69a27.js";import{r as Ue}from"./recommendationsMock.b2d9650b.js";import{R as Fe}from"./RestaurantCardComponent.0e896db4.js";import{S as De}from"./SelectFieldComponent.4d793fff.js";import{K as He}from"./KitchenChipsComponent.32c34383.js";import"./distance.101d251c.js";import"./RatingComponent.1eccb3f0.js";const Ke={name:"ResetFilter",methods:{resetFilterClicked(){this.$emit("resetFilter")}}},Ge={class:"tw-flex tw-items-center tw-justify-between"},We=m("span",{class:"tw-font-medium tw-text-base tw-text-ms-grey tw-tracking-tight"},"Filtres avanc\xE9s:",-1);function Xe(i,e,t,s,o,r){return g(),k("div",Ge,[We,w($e,{variant:"text","prepend-icon":"mdi-reload",class:"!tw-text-ms-grey",onClick:r.resetFilterClicked},{default:U(()=>[Me(" R\xE9initialiser ")]),_:1},8,["onClick"])])}const Je=M(Ke,[["render",Xe]]),Ye={props:{title:{type:String,default:""}}},Qe={class:"tw-text-ms-black tw-font-semibold tw-text-lg tw-tracking-tight"};function et(i,e,t,s,o,r){return g(),k("span",Qe,F(t.title),1)}const Y=M(Ye,[["render",et]]),tt=[{id:1,name:"salade",title:"Salade"},{id:2,name:"sandwich",title:"Sandwich"},{id:3,name:"pizza",title:"Pizza"},{id:4,name:"shawarma",title:"Shawarma"},{id:5,name:"burger",title:"Burger"},{id:6,name:"pasta",title:"Pasta"},{id:7,name:"tacos",title:"Tacos"},{id:8,name:"tagine",title:"Tagine"},{id:9,name:"panini",title:"Panini"},{id:10,name:"bocadios",title:"Bocadios"},{id:11,name:"sipiya",title:"Sipiya"},{id:12,name:"mixte",title:"Mixte"},{id:13,name:"cosamia",title:"Cosamia"},{id:14,name:"lasagne",title:"Lasagne"},{id:15,name:"emence",title:"Emence"}],ae=()=>tt;const it={data:()=>({selectedSpecialities:[],specialities:[],displayedList:[]}),components:{FilterTitle:Y},mounted(){this.specialities=ae(),this.handleItemsToShow("min")},methods:{handleItemsToShow(i){if(i==="min"){this.displayedList=[];for(let e=0;e<8;e++)this.displayedList.push(this.specialities[e])}else this.displayedList=[],this.displayedList=this.specialities},handleSelectedSpeciality(i){this.selectedSpecialities.some(e=>e.id===i.id)?this.selectedSpecialities=this.selectedSpecialities.filter(e=>e.id!==i.id):this.selectedSpecialities.push(i),this.$emit("updateSpecialityFilter",{type:"speciality",selectedSpecialities:this.selectedSpecialities})}}},st={class:"tw-flex tw-flex-col tw-gap-3"},ot={class:"tw-grid tw-grid-flow-row-dense tw-grid-cols-4 tw-gap-y-3"},rt=["onClick"],nt={class:"tw-text-right tw-col-span-4 tw-mr-4"};function lt(i,e,t,s,o,r){const l=C("filter-title");return g(),k("div",st,[w(l,{title:"Sp\xE9cialit\xE9s"}),m("div",ot,[(g(!0),k(I,null,H(i.displayedList,n=>(g(),k("span",{key:n.id,class:te(["chip tw-mr-4 tw-select-none",this.selectedSpecialities.some(c=>c.id===n.id)?"tw-bg-ms-primary":"tw-bg-[#F9F9F9]"]),onClick:c=>r.handleSelectedSpeciality(n)},F(n.title),11,rt))),128)),m("div",nt,[i.displayedList.length<i.specialities.length?(g(),k("span",{key:0,onClick:e[0]||(e[0]=n=>r.handleItemsToShow("max")),class:"tw-cursor-pointer tw-select-none te-text-base te-font-normal tw-text-[#219CDB]"},"Afficher plus")):(g(),k("span",{key:1,onClick:e[1]||(e[1]=n=>r.handleItemsToShow("min")),class:"tw-cursor-pointer tw-select-none te-text-base te-font-normal tw-text-[#219CDB]"},"Afficher moins"))])])])}const at=M(it,[["render",lt],["__scopeId","data-v-10956428"]]),dt={data:()=>({value:[1,750],sliderOptions:{min:1,max:750,step:10}}),components:{FilterTitle:Y},mounted(){this.specialities=ae()},methods:{handlePriceChanged(i){this.$emit("updateBudgetFilter",{type:"budget",budget:i})}}},ct={class:"tw-flex tw-flex-col tw-gap-3"},pt={class:"tw-flex tw-gap-2 tw-items-baseline"},ut={class:"tw-font-medium tw-text-base tw-text-ms-grey tw-tracking-tight"},ht={class:"tw-font-medium tw-text-base tw-text-ms-grey tw-tracking-tight"};function mt(i,e,t,s,o,r){const l=C("filter-title");return g(),k("div",ct,[w(l,{title:"Budget"}),m("div",pt,[m("span",ut,F(i.sliderOptions.min)+" dhs",1),w(je,{color:"#FFBA07","track-color":"#E2E2DF",modelValue:i.value,"onUpdate:modelValue":[e[0]||(e[0]=n=>i.value=n),r.handlePriceChanged],max:i.sliderOptions.max,min:i.sliderOptions.min,step:i.sliderOptions.step,"thumb-label":""},null,8,["modelValue","max","min","step","onUpdate:modelValue"]),m("span",ht,F(i.sliderOptions.max)+" dhs",1)])])}const gt=M(dt,[["render",mt]]),vt={data:()=>({value:5,sliderOptions:{min:0,max:50,step:1}}),components:{FilterTitle:Y},mounted(){this.specialities=ae()},methods:{handleDistanceChanged(i){this.$emit("updateDistanceFilter",{type:"distance",distance:i})}}},ft={class:"tw-flex tw-flex-col tw-gap-3"},yt={class:"tw-flex tw-gap-2 tw-items-baseline"},wt={class:"tw-font-medium tw-text-base tw-text-ms-grey tw-tracking-tight"},_t={class:"tw-font-medium tw-text-base tw-text-ms-grey tw-tracking-tight"};function Ct(i,e,t,s,o,r){const l=C("filter-title");return g(),k("div",ft,[w(l,{title:"Distance"}),m("div",yt,[m("span",wt,F(i.sliderOptions.min)+" dhs",1),w(Re,{color:"#FFBA07","track-color":"#E2E2DF",modelValue:i.value,"onUpdate:modelValue":[e[0]||(e[0]=n=>i.value=n),r.handleDistanceChanged],max:i.sliderOptions.max,min:i.sliderOptions.min,step:i.sliderOptions.step,"thumb-label":""},null,8,["modelValue","max","min","step","onUpdate:modelValue"]),m("span",_t,F(i.sliderOptions.max)+" dhs",1)])])}const kt=M(vt,[["render",Ct]]),xt={data:()=>({selected:5}),components:{FilterTitle:Y},methods:{handleStarClicked(i){this.selected=i,this.$emit("updateStarFilter",{type:"star",star:this.selected})}}},bt={class:"tw-flex tw-flex-row tw-items-center tw-gap-12"},St={class:"tw-flex tw-flex-row tw-items-center"},Mt=["onClick"],$t=["fill"];function Ot(i,e,t,s,o,r){const l=C("filter-title");return g(),k("div",bt,[w(l,{title:"Score"}),m("div",St,[(g(),k(I,null,H(5,n=>m("svg",{key:n,onClick:c=>r.handleStarClicked(n),class:"tw-cursor-pointer",width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M7.52447 0.463526C7.67415 0.0028708 8.32585 0.00286996 8.47553 0.463525L9.90837 4.87336C9.97531 5.07937 10.1673 5.21885 10.3839 5.21885H15.0207C15.505 5.21885 15.7064 5.83865 15.3146 6.12336L11.5633 8.84878C11.3881 8.9761 11.3148 9.20179 11.3817 9.4078L12.8145 13.8176C12.9642 14.2783 12.437 14.6613 12.0451 14.3766L8.29389 11.6512C8.11865 11.5239 7.88135 11.5239 7.70611 11.6512L3.95488 14.3766C3.56303 14.6613 3.03578 14.2783 3.18546 13.8176L4.6183 9.4078C4.68524 9.20179 4.61191 8.9761 4.43667 8.84878L0.685441 6.12336C0.293584 5.83866 0.494972 5.21885 0.979333 5.21885H5.6161C5.83272 5.21885 6.02469 5.07937 6.09163 4.87336L7.52447 0.463526Z",fill:i.selected>=n?"#FFBA07":"#E2E2DF"},null,8,$t)],8,Mt)),64))])])}const Lt=M(xt,[["render",Ot]]),Ft={data:()=>({items:["R\xE9duction","Livraison","Take away"],selected:[]}),methods:{handleCheckboxChanged(){this.$emit("updateCheckboxFilter",{type:"checkbox",checkbox:this.selected})}}},Pt={class:"tw-flex tw-flex-row tw-items-center tw-justify-between"},It={class:"!tw-text-ms-black !tw-text-base !tw-font-normal"};function Et(i,e,t,s,o,r){return g(),k("div",Pt,[(g(!0),k(I,null,H(i.items,l=>(g(),S(Ve,{key:l,modelValue:i.selected,"onUpdate:modelValue":e[0]||(e[0]=n=>i.selected=n),value:l,class:"checkbox-filter",color:"#FFBA07",onChange:r.handleCheckboxChanged,"hide-details":""},{label:U(()=>[m("span",It,F(l),1)]),_:2},1032,["modelValue","value","onChange"]))),128))])}const Bt=M(Ft,[["render",Et]]),Tt={data:()=>({form:{specialities:[],budget:[],star:5,distance:5,checkbox:[]}}),components:{CheckBoxFilter:Bt,StarFilter:Lt,DistanceFilter:kt,PriceFilter:gt,SpecialityFilter:at,ResetFilter:Je},methods:{resetFilterClicked(){this.form={specialities:[],budget:[],star:5,distance:5,checkbox:[]}},updateFilterParams(i){i.type==="speciality"?this.form.specialities=i.selectedSpecialities:i.type==="budget"?this.form.budget=i.budget:i.type==="star"?this.form.star=i.star:i.type==="distance"?this.form.distance=i.distance:i.type==="checkbox"&&(this.form.checkbox=i.checkbox)},handleFilterChanged(){console.log(this.form)}}},qt={class:"tw-flex tw-flex-col tw-gap-8 tw-pr-2"};function zt(i,e,t,s,o,r){const l=C("reset-filter"),n=C("speciality-filter"),c=C("price-filter"),a=C("star-filter"),d=C("distance-filter"),p=C("check-box-filter");return g(),k("div",qt,[w(l,{onResetFilter:r.resetFilterClicked},null,8,["onResetFilter"]),w(n,{onUpdateSpecialityFilter:r.updateFilterParams},null,8,["onUpdateSpecialityFilter"]),w(c,{onUpdateBudgetFilter:r.updateFilterParams},null,8,["onUpdateBudgetFilter"]),w(a,{onUpdateStarFilter:r.updateFilterParams},null,8,["onUpdateStarFilter"]),w(d,{onUpdateDistanceFilter:r.updateFilterParams},null,8,["onUpdateDistanceFilter"]),w(p,{onUpdateCheckboxFilter:r.updateFilterParams},null,8,["onUpdateCheckboxFilter"]),w($e,{variant:"flat",class:"!tw-bg-ms-primary !tw-w-28 tw-mb-6 !tw-capitalize",onClick:r.handleFilterChanged},{default:U(()=>[Me(" Filtrer ")]),_:1},8,["onClick"])])}const jt=M(Tt,[["render",zt]]);let j=Symbol("map"),R=Symbol("api"),Pe=Symbol("marker"),Ie=Symbol("markerCluster"),W=Symbol("CustomMarker"),Ee=Symbol("mapTilesLoaded"),T="click dblclick drag dragend dragstart mousedown mousemove mouseout mouseover mouseup rightclick".split(" ");var Rt=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var s;if(Array.isArray(e)){var o=e.length;if(o!=t.length)return!1;for(s=o;s--!==0;)if(!i(e[s],t[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var r=Object.keys(e);if(o=r.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[s]))return!1;for(s=o;s--!==0;)if(o=r[s],!i(e[o],t[o]))return!1;return!0}return e!==e&&t!==t};class P{constructor({apiKey:e,channel:t,client:s,id:o="__googleMapsScriptId",libraries:r=[],language:l,region:n,version:c,mapIds:a,nonce:d,retries:p=3,url:u="https://maps.googleapis.com/maps/api/js"}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.loading=this.done=!1,this.errors=[],this.version=c,this.apiKey=e,this.channel=t,this.client=s,this.id=o||"__googleMapsScriptId",this.libraries=r,this.language=l,this.region=n,this.mapIds=a,this.nonce=d,this.retries=p,this.url=u,P.instance){if(!Rt(this.options,P.instance.options))throw Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(P.instance.options)}`);return P.instance}P.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url}}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),0<this.libraries.length&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),e}deleteScript(){let e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(s=>{s?t(s.error):e(window.google)})})}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))this.callback();else{var e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}}reset(){this.deleteScript(),this.loading=this.done=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){this.errors.push(e),this.errors.length<=this.retries?(e=this.errors.length*Math.pow(2,this.errors.length),console.log(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},e)):(this.onerrorEvent=e,this.callback())}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){this.resetIfRetryingFailed(),this.done?this.callback():window.google&&window.google.maps&&window.google.maps.version?(console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback()):this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}function Vt(i){return class extends i.OverlayView{constructor(e){super();let{element:t,...s}=e;this.element=t,this.opts=s,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof i.LatLng?this.opts.position:new i.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;let e=this.element;return e.style.display!=="none"&&e.style.visibility!=="hidden"&&(e.style.opacity===""||.01<Number(e.style.opacity))}onAdd(){if(this.element){var e=this.getPanes();e&&e.overlayMouseTarget.appendChild(this.element)}}draw(){if(this.element){var e=this.getProjection().fromLatLngToDivPixel(this.getPosition());if(e){this.element.style.position="absolute";let s=this.element.offsetHeight;var t=this.element.offsetWidth;switch(this.opts.anchorPoint){case"TOP_CENTER":t=e.x-t/2,e=e.y;break;case"BOTTOM_CENTER":t=e.x-t/2,e=e.y-s;break;case"LEFT_CENTER":t=e.x,e=e.y-s/2;break;case"RIGHT_CENTER":t=e.x-t,e=e.y-s/2;break;case"TOP_LEFT":t=e.x,e=e.y;break;case"TOP_RIGHT":t=e.x-t,e=e.y;break;case"BOTTOM_LEFT":t=e.x,e=e.y-s;break;case"BOTTOM_RIGHT":t=e.x-t,e=e.y-s;break;default:t=e.x-t/2,e=e.y-s/2}this.element.style.left=t+"px",this.element.style.top=e+"px",this.element.style.transform=`translateX(${this.opts.offsetX||0}px) translateY(${this.opts.offsetY||0}px)`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}}onRemove(){this.element&&this.element.remove()}setOptions(e){this.opts=e,this.draw()}}}let ge,ve="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed".split(" ");var de=$({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1}},emits:ve,setup(i,{emit:e}){let t=v(),s=v(!1),o=v(),r=v(),l=v(!1);A(j,o),A(R,r),A(Ee,l);let n=()=>{const d={...i};Object.keys(d).forEach(u=>{d[u]===void 0&&delete d[u]});var p=u=>{var h;return u?{position:(h=r.value)===null||h===void 0?void 0:h.ControlPosition[u]}:{}};return p={scaleControlOptions:i.scaleControlStyle?{style:i.scaleControlStyle}:{},panControlOptions:p(i.panControlPosition),zoomControlOptions:p(i.zoomControlPosition),rotateControlOptions:p(i.rotateControlPosition),streetViewControlOptions:p(i.streetViewControlPosition),fullscreenControlOptions:p(i.fullscreenControlPosition),disableDefaultUI:i.disableDefaultUi},{...d,...p}},c=O([r,o],([d,p])=>{d&&p&&(d.event.addListenerOnce(p,"tilesloaded",()=>{l.value=!0}),setTimeout(c,0))},{immediate:!0}),a=d=>{r.value=L(d.maps),o.value=L(new d.maps.Map(t.value,n())),d=Vt(r.value),r.value[W]=d,ve.forEach(p=>{var u;(u=o.value)===null||u===void 0||u.addListener(p,h=>e(p,h))}),s.value=!0,d=Object.keys(i).filter(p=>!"apiPromise apiKey version libraries region language center zoom".split(" ").includes(p)).map(p=>z(i,p)),O([()=>i.center,()=>i.zoom,...d],([p,u],[h,f])=>{var y,_,b;const{center:me,zoom:Q,...ze}=n();(y=o.value)===null||y===void 0||y.setOptions(ze),u!==void 0&&u!==f&&((_=o.value)===null||_===void 0||_.setZoom(u)),u=!h||p.lng!==h.lng||p.lat!==h.lat,p&&u&&((b=o.value)===null||b===void 0||b.panTo(p))})};return oe(()=>{if(i.apiPromise&&i.apiPromise instanceof Promise)i.apiPromise.then(a);else{try{const{apiKey:d,region:p,version:u,language:h,libraries:f}=i;ge=new P({apiKey:d,region:p,version:u,language:h,libraries:f})}catch(d){console.error(d)}ge.load().then(a)}}),q(()=>{var d;l.value=!1,o.value&&((d=r.value)===null||d===void 0||d.event.clearInstanceListeners(o.value))}),{mapRef:t,ready:s,map:o,api:r,mapTilesLoaded:l}}});function ce(i,e){if(e===void 0&&(e={}),e=e.insertAt,i&&typeof document<"u"){var t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i))}}ce(`
.mapdiv[data-v-177d06e3] {
  width: 100%;
  height: 100%;
}
`);let Zt=re();ne("data-v-177d06e3");let At={ref:"mapRef",class:"mapdiv"};le();let Nt=Zt(i=>(g(),S("div",null,[w("div",At,null,512),J(i.$slots,"default",{ready:i.ready,map:i.map,api:i.api,mapTilesLoaded:i.mapTilesLoaded},void 0,!0)])));de.render=Nt;de.__scopeId="data-v-177d06e3";var D=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var s;if(Array.isArray(e)){var o=e.length;if(o!=t.length)return!1;for(s=o;s--!==0;)if(!i(e[s],t[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var r=Object.keys(e);if(o=r.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[s]))return!1;for(s=o;s--!==0;)if(o=r[s],!i(e[o],t[o]))return!1;return!0}return e!==e&&t!==t};let V=(i,e,t,s)=>{const o=v(),r=x(j,v()),l=x(R,v()),n=x(Ie,v()),c=G(()=>!!(n.value&&l.value&&(o.value instanceof l.value.Marker||o.value instanceof l.value[W])));return O([r,t],(a,[d,p])=>{var u,h,f;a=!D(t.value,p)||r.value!==d,r.value&&l.value&&a&&(o.value?(o.value.setOptions(t.value),c.value&&((u=n.value)===null||u===void 0||u.removeMarker(o.value),(h=n.value)===null||h===void 0||h.addMarker(o.value))):(o.value=i==="Marker"?L(new l.value[i](t.value)):i===W?L(new l.value[i](t.value)):L(new l.value[i]({...t.value,map:r.value})),c.value?(f=n.value)===null||f===void 0||f.addMarker(o.value):o.value.setMap(r.value),e.forEach(y=>{var _;(_=o.value)===null||_===void 0||_.addListener(y,b=>s(y,b))})))},{immediate:!0}),q(()=>{var a,d;o.value&&((a=l.value)===null||a===void 0||a.event.clearInstanceListeners(o.value),c.value?(d=n.value)===null||d===void 0||d.removeMarker(o.value):o.value.setMap(null))}),o},fe="animation_changed click dblclick rightclick dragstart dragend drag mouseover mousedown mouseout mouseup draggable_changed clickable_changed contextmenu cursor_changed flat_changed rightclick zindex_changed icon_changed position_changed shape_changed title_changed visible_changed".split(" ");$({name:"Marker",props:{options:{type:Object,required:!0}},emits:fe,setup(i,{emit:e,expose:t,slots:s}){return i=z(i,"options"),e=V("Marker",fe,i,e),A(Pe,e),t({marker:e}),()=>{var o;return(o=s.default)===null||o===void 0?void 0:o.call(s)}}});$({name:"Polyline",props:{options:{type:Object,required:!0}},emits:T,setup(i,{emit:e}){return i=z(i,"options"),{polyline:V("Polyline",T,i,e)}},render:()=>null});$({name:"Polygon",props:{options:{type:Object,required:!0}},emits:T,setup(i,{emit:e}){return i=z(i,"options"),{polygon:V("Polygon",T,i,e)}},render:()=>null});let ye=T.concat(["bounds_changed"]);$({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:ye,setup(i,{emit:e}){return i=z(i,"options"),{rectangle:V("Rectangle",ye,i,e)}},render:()=>null});let we=T.concat(["center_changed","radius_changed"]);$({name:"Circle",props:{options:{type:Object,required:!0}},emits:we,setup(i,{emit:e}){return i=z(i,"options"),{circle:V("Circle",we,i,e)}},render:()=>null});var Ut=$({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(i,{emit:e}){let t=v(null),s=x(j,v()),o=x(R,v()),r=x(Ee,v(!1)),l=v(!1),n=O([r,o,t],([d,p,u])=>{p&&d&&u&&(c(i.position),l.value=!0,e("content:loaded"),setTimeout(n,0))},{immediate:!0}),c=d=>{s.value&&o.value&&t.value&&s.value.controls[o.value.ControlPosition[d]].push(t.value)},a=d=>{if(s.value&&o.value){let p=null;d=o.value.ControlPosition[d],s.value.controls[d].forEach((u,h)=>{u===t.value&&(p=h)}),p!==null&&s.value.controls[d].removeAt(p)}};return q(()=>a(i.position)),O(()=>i.position,(d,p)=>{a(p),c(d)}),O(()=>i.index,d=>{d&&t.value&&(t.value.index=i.index)}),{controlRef:t,showContent:l}}});let Dt={ref:"controlRef"};Ut.render=function(i){return g(),S(I,null,[B(`
    v-show must be used instead of v-if otherwise there
    would be no rendered content pushed to the map controls
  `),Ze(w("div",Dt,[J(i.$slots,"default")],512),[[Ae,i.showContent]])],2112)};let _e="closeclick content_changed domready position_changed visible zindex_changed".split(" ");var Be=$({inheritAttrs:!1,props:{options:{type:Object,default:()=>({})}},emits:_e,setup(i,{slots:e,emit:t}){let s=v(),o=v(),r=x(j,v()),l=x(R,v()),n=x(Pe,v()),c,a=G(()=>{var d;return(d=e.default)===null||d===void 0?void 0:d.call(e).some(p=>p.type!==Le)});return oe(()=>{O([r,()=>i.options],([,d],[p,u])=>{p=!D(d,u)||r.value!==p,r.value&&l.value&&p&&(s.value?(s.value.setOptions({...d,content:a.value?o.value:d.content}),n.value||s.value.open({map:r.value})):(s.value=L(new l.value.InfoWindow({...d,content:a.value?o.value:d.content})),n.value?c=n.value.addListener("click",()=>{s.value&&s.value.open({map:r.value,anchor:n.value})}):s.value.open({map:r.value}),_e.forEach(h=>{var f;(f=s.value)===null||f===void 0||f.addListener(h,y=>t(h,y))})))},{immediate:!0})}),q(()=>{var d;c&&c.remove(),s.value&&((d=l.value)===null||d===void 0||d.event.clearInstanceListeners(s.value),s.value.close())}),{infoWindow:s,infoWindowRef:o,hasSlotContent:a}}});ce(`
.info-window-wrapper[data-v-5b373d6e] {
  display: none;
}
.mapdiv .info-window-wrapper[data-v-5b373d6e] {
  display: inline-block;
}
`);let Ht=re();ne("data-v-5b373d6e");let Kt={key:0,class:"info-window-wrapper"};le();let Gt=Ht(i=>i.hasSlotContent?(g(),S("div",Kt,[w("div",Oe({ref:"infoWindowRef"},i.$attrs),[J(i.$slots,"default",{},void 0,!0)],16)])):B("v-if",!0));Be.render=Gt;Be.__scopeId="data-v-5b373d6e";function ie(i,e,t,s,o,r){if(!(o-s<=t)){var l=s+o>>1;Te(i,e,l,s,o,r%2),ie(i,e,t,s,l-1,r+1),ie(i,e,t,l+1,o,r+1)}}function Te(i,e,t,s,o,r){for(;o>s;){if(600<o-s){var l=o-s+1,n=t-s+1,c=Math.log(l),a=.5*Math.exp(2*c/3);c=.5*Math.sqrt(c*a*(l-a)/l)*(0>n-l/2?-1:1),Te(i,e,t,Math.max(s,Math.floor(t-n*a/l+c)),Math.min(o,Math.floor(t+(l-n)*a/l+c)),r)}for(l=e[2*t+r],n=s,a=o,Z(i,e,s,t),e[2*o+r]>l&&Z(i,e,s,o);n<a;){for(Z(i,e,n,a),n++,a--;e[2*n+r]<l;)n++;for(;e[2*a+r]>l;)a--}e[2*s+r]===l?Z(i,e,s,a):(a++,Z(i,e,a,o)),a<=t&&(s=a+1),t<=a&&(o=a-1)}}function Z(i,e,t,s){ee(i,t,s),ee(e,2*t,2*s),ee(e,2*t+1,2*s+1)}function ee(i,e,t){let s=i[e];i[e]=i[t],i[t]=s}let Wt=i=>i[0],Xt=i=>i[1];class Ce{constructor(e,t=Wt,s=Xt,o=64,r=Float64Array){this.nodeSize=o,this.points=e;let l=this.ids=new(65536>e.length?Uint16Array:Uint32Array)(e.length);r=this.coords=new r(2*e.length);for(let n=0;n<e.length;n++)l[n]=n,r[2*n]=t(e[n]),r[2*n+1]=s(e[n]);ie(l,r,o,0,l.length-1,0)}range(e,t,s,o){{var r=this.ids,l=this.coords,n=this.nodeSize;let a=[0,r.length-1,0],d=[],p,u;for(;a.length;){var c=a.pop();let h=a.pop(),f=a.pop();if(h-f<=n){for(c=f;c<=h;c++)p=l[2*c],u=l[2*c+1],p>=e&&p<=s&&u>=t&&u<=o&&d.push(r[c]);continue}let y=Math.floor((f+h)/2);p=l[2*y],u=l[2*y+1],p>=e&&p<=s&&u>=t&&u<=o&&d.push(r[y]);let _=(c+1)%2;(c===0?e<=p:t<=u)&&(a.push(f),a.push(y-1),a.push(_)),(c===0?s>=p:o>=u)&&(a.push(y+1),a.push(h),a.push(_))}e=d}return e}within(e,t,s){{var o=this.ids,r=this.coords,l=this.nodeSize;let p=[0,o.length-1,0],u=[],h=s*s;for(;p.length;){var n=p.pop();let f=p.pop();var c=p.pop();if(f-c<=l){for(n=c;n<=f;n++){c=r[2*n]-e;var a=r[2*n+1]-t;c=c*c+a*a,c<=h&&u.push(o[n])}continue}a=Math.floor((c+f)/2);let y=r[2*a],_=r[2*a+1];{var d=y-e;let b=_-t;d=d*d+b*b}d<=h&&u.push(o[a]),d=(n+1)%2,(n===0?e-s<=y:t-s<=_)&&(p.push(c),p.push(a-1),p.push(d)),(n===0?e+s>=y:t+s>=_)&&(p.push(a+1),p.push(f),p.push(d))}e=u}return e}}let Jt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:i=>i},X=Math.fround||(i=>e=>(i[0]=+e,i[0]))(new Float32Array(1));class Yt{constructor(e){this.options=N(Object.create(Jt),e),this.trees=Array(this.options.maxZoom+1)}load(e){let{log:t,minZoom:s,maxZoom:o,nodeSize:r}=this.options;t&&console.time("total time");var l=`prepare ${e.length} points`;t&&console.time(l),this.points=e;let n=[];for(let c=0;c<e.length;c++)e[c].geometry&&n.push(ei(e[c],c));for(this.trees[o+1]=new Ce(n,xe,be,r,Float32Array),t&&console.timeEnd(l),e=o;e>=s;e--)l=+Date.now(),n=this._cluster(n,e),this.trees[e]=new Ce(n,xe,be,r,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,n.length,+Date.now()-l);return t&&console.timeEnd("total time"),this}getClusters(e,t){let s=((e[0]+180)%360+360)%360-180;var o=Math.max(-90,Math.min(90,e[1])),r=e[2]===180?180:((e[2]+180)%360+360)%360-180;let l=Math.max(-90,Math.min(90,e[3]));if(360<=e[2]-e[0])s=-180,r=180;else if(s>r){var n=this.getClusters([s,o,180,l],t);return o=this.getClusters([-180,o,r,l],t),n.concat(o)}t=this.trees[this._limitZoom(t)],r=t.range(s/360+.5,K(l),r/360+.5,K(o)),o=[];for(n of r)r=t.points[n],o.push(r.numPoints?ke(r):this.points[r.index]);return o}getChildren(e){var t=this._getOriginId(e),s=this._getOriginZoom(e);let o=this.trees[s];if(!o||(t=o.points[t],!t))throw Error("No cluster with the specified id.");t=o.within(t.x,t.y,this.options.radius/(this.options.extent*Math.pow(2,s-1))),s=[];for(let r of t)t=o.points[r],t.parentId===e&&s.push(t.numPoints?ke(t):this.points[t.index]);if(s.length===0)throw Error("No cluster with the specified id.");return s}getLeaves(e,t,s){let o=[];return this._appendLeaves(o,e,t||10,s||0,0),o}getTile(e,t,s){let o=this.trees[this._limitZoom(e)];e=Math.pow(2,e);let{extent:r,radius:l}=this.options,n=l/r,c=(s-n)/e,a=(s+1+n)/e,d={features:[]};return this._addTileFeatures(o.range((t-n)/e,c,(t+1+n)/e,a),o.points,t,s,e,d),t===0&&this._addTileFeatures(o.range(1-n/e,c,1,a),o.points,e,s,e,d),t===e-1&&this._addTileFeatures(o.range(0,c,n/e,a),o.points,-1,s,e,d),d.features.length?d:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom&&(e=this.getChildren(e),t++,e.length===1);)e=e[0].properties.cluster_id;return t}_appendLeaves(e,t,s,o,r){t=this.getChildren(t);for(let l of t)if((t=l.properties)&&t.cluster?r=r+t.point_count<=o?r+t.point_count:this._appendLeaves(e,t.cluster_id,s,o,r):r<o?r++:e.push(l),e.length===s)break;return r}_addTileFeatures(e,t,s,o,r,l){for(let a of e){e=t[a];let d=e.numPoints;var n=void 0;let p;var c=void 0;d?(n=qe(e),p=e.x,c=e.y):(c=this.points[e.index],n=c.properties,p=c.geometry.coordinates[0]/360+.5,c=K(c.geometry.coordinates[1])),n={type:1,geometry:[[Math.round(this.options.extent*(p*r-s)),Math.round(this.options.extent*(c*r-o))]],tags:n};let u;d?u=e.id:this.options.generateId?u=e.index:this.points[e.index].id&&(u=this.points[e.index].id),u!==void 0&&(n.id=u),l.features.push(n)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){let s=[],{radius:o,extent:r,reduce:l,minPoints:n}=this.options,c=o/(r*Math.pow(2,t));for(let h=0;h<e.length;h++){var a=e[h];if(a.zoom<=t)continue;a.zoom=t;let f=this.trees[t+1];var d=f.within(a.x,a.y,c),p=a.numPoints||1;let y=p;for(let _ of d){var u=f.points[_];u.zoom>t&&(y+=u.numPoints||1)}if(y>p&&y>=n){u=a.x*p;let _=a.y*p;p=l&&1<p?this._map(a,!0):null;let b=(h<<5)+(t+1)+this.points.length;for(let me of d){if(d=f.points[me],d.zoom<=t)continue;d.zoom=t;let Q=d.numPoints||1;u+=d.x*Q,_+=d.y*Q,d.parentId=b,l&&(p||(p=this._map(a,!0)),l(p,this._map(d)))}a.parentId=b,s.push(Qt(u/y,_/y,b,y,p))}else if(s.push(a),1<y)for(let _ of d)a=f.points[_],a.zoom<=t||(a.zoom=t,s.push(a))}return s}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?N({},e.properties):e.properties;e=this.points[e.index].properties;let s=this.options.map(e);return t&&s===e?N({},s):s}}function Qt(i,e,t,s,o){return{x:X(i),y:X(e),zoom:1/0,id:t,parentId:-1,numPoints:s,properties:o}}function ei(i,e){let[t,s]=i.geometry.coordinates;return{x:X(t/360+.5),y:X(K(s)),zoom:1/0,index:e,parentId:-1}}function ke(i){var e=i.id,t=qe(i);return{type:"Feature",id:e,properties:t,geometry:{type:"Point",coordinates:[360*(i.x-.5),360*Math.atan(Math.exp((180-360*i.y)*Math.PI/180))/Math.PI-90]}}}function qe(i){let e=i.numPoints,t=1e4<=e?`${Math.round(e/1e3)}k`:1e3<=e?`${Math.round(e/100)/10}k`:e;return N(N({},i.properties),{cluster:!0,cluster_id:i.id,point_count:e,point_count_abbreviated:t})}function K(i){return i=Math.sin(i*Math.PI/180),i=.5-.25*Math.log((1+i)/(1-i))/Math.PI,0>i?0:1<i?1:i}function N(i,e){for(let t in e)i[t]=e[t];return i}function xe(i){return i.x}function be(i){return i.y}class se{constructor({markers:e,position:t}){this.markers=e,t&&(this._position=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t))}get bounds(){if(this.markers.length!==0||this._position)return this.markers.reduce((e,t)=>e.extend(t.getPosition()),new google.maps.LatLngBounds(this._position,this._position))}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>e.getVisible()).length}push(e){this.markers.push(e)}delete(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}class ti{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return ii(e)}}let ii=i=>i.map(e=>new se({position:e.getPosition(),markers:[e]}));class si extends ti{constructor(e){var{maxZoom:t,radius:s=60}=e,o=["maxZoom","radius"],r={},l;for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>o.indexOf(l)&&(r[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)0>o.indexOf(l[n])&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(r[l[n]]=e[l[n]])}super({maxZoom:t}),this.superCluster=new Yt(Object.assign({maxZoom:this.maxZoom,radius:s},r)),this.state={zoom:null}}calculate(e){let t=!1;if(!D(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var s=this.markers.map(o=>({type:"Feature",geometry:{type:"Point",coordinates:[o.getPosition().lng(),o.getPosition().lat()]},properties:{marker:o}}));this.superCluster.load(s)}return s={zoom:e.map.getZoom()},t||this.state.zoom>this.maxZoom&&s.zoom>this.maxZoom||(t=t||!D(this.state,s)),this.state=s,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(this.transformCluster.bind(this))}transformCluster({geometry:{coordinates:[e,t]},properties:s}){return s.cluster?new se({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(o=>o.properties.marker),position:new google.maps.LatLng({lat:t,lng:e})}):(e=s.marker,new se({markers:[e],position:e.getPosition()}))}}class oi{constructor(e,t){this.markers={sum:e.length},e=t.map(o=>o.count);let s=e.reduce((o,r)=>o+r,0);this.clusters={count:t.length,markers:{mean:s/t.length,sum:s,min:Math.min(...e),max:Math.max(...e)}}}}class ri{render({count:e,position:t},s){return s=window.btoa(`
  <svg fill="${e>Math.max(10,s.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">
    <circle cx="120" cy="120" opacity=".6" r="70" />
    <circle cx="120" cy="120" opacity=".3" r="90" />
    <circle cx="120" cy="120" opacity=".2" r="110" />
  </svg>`),new google.maps.Marker({position:t,icon:{url:`data:image/svg+xml;base64,${s}`,scaledSize:new google.maps.Size(45,45)},label:{text:String(e),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:`Cluster of ${e} markers`,zIndex:Number(google.maps.Marker.MAX_ZINDEX)+e})}}class pe{constructor(){var e=pe,t=google.maps.OverlayView;for(let s in t.prototype)e.prototype[s]=t.prototype[s]}}var E,ue=E||(E={});ue.CLUSTERING_BEGIN="clusteringbegin";ue.CLUSTERING_END="clusteringend";ue.CLUSTER_CLICK="click";let ni=(i,e,t)=>{t.fitBounds(e.bounds)};class li extends pe{constructor({map:e,markers:t=[],algorithm:s=new si({}),renderer:o=new ri,onClusterClick:r=ni}){super(),this.markers=[...t],this.clusters=[],this.algorithm=s,this.renderer=o,this.onClusterClick=r,e&&this.setMap(e)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(s=>{this.addMarker(s,!0)}),t||this.render()}removeMarker(e,t){let s=this.markers.indexOf(e);return s===-1?!1:(e.setMap(null),this.markers.splice(s,1),t||this.render(),!0)}removeMarkers(e,t){let s=!1;return e.forEach(o=>{s=this.removeMarker(o,!0)||s}),s&&!t&&this.render(),s}clearMarkers(e){this.markers.length=0,e||this.render()}render(){let e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,E.CLUSTERING_BEGIN,this);let{clusters:t,changed:s}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});(s||s==null)&&(this.reset(),this.clusters=t,this.renderClusters()),google.maps.event.trigger(this,E.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>e.setMap(null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){let e=new oi(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(s=>{s.markers.length===1?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,e),this.onClusterClick&&s.marker.addListener("click",o=>{google.maps.event.trigger(this,E.CLUSTER_CLICK,s),this.onClusterClick(o,s,t)})),s.marker.setMap(t)})}}let Se=Object.values(E);$({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:Se,setup(i,{emit:e,expose:t,slots:s}){let o=v(),r=x(j,v()),l=x(R,v());return A(Ie,o),O(r,()=>{r.value&&(o.value=L(new li({map:r.value,...i.options})),Se.forEach(n=>{var c;(c=o.value)===null||c===void 0||c.addListener(n,a=>e(n,a))}))},{immediate:!0}),q(()=>{var n;o.value&&((n=l.value)===null||n===void 0||n.event.clearInstanceListeners(o.value),o.value.clearMarkers(),o.value.setMap(null))}),t({markerCluster:o}),()=>{var n;return(n=s.default)===null||n===void 0?void 0:n.call(s)}}});var he=$({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(i,{slots:e,emit:t}){let s=v(),o=v(),r=G(()=>{var n;return(n=e.default)===null||n===void 0?void 0:n.call(e).some(c=>c.type!==Le)}),l=G(()=>({...i.options,element:s.value}));return oe(()=>{o=V(W,[],l,t)}),{customMarkerRef:s,customMarker:o,hasSlotContent:r}}});ce(`
.custom-marker-wrapper[data-v-b9d5ec8a] {
  display: none;
}
.mapdiv .custom-marker-wrapper[data-v-b9d5ec8a] {
  display: inline-block;
}
`);let ai=re();ne("data-v-b9d5ec8a");let di={key:0,class:"custom-marker-wrapper"};le();let ci=ai(i=>i.hasSlotContent?(g(),S("div",di,[w("div",Oe({ref:"customMarkerRef",style:{cursor:i.$attrs.onClick?"pointer":void 0}},i.$attrs),[J(i.$slots,"default",{},void 0,!0)],16)])):B("v-if",!0));he.render=ci;he.__scopeId="data-v-b9d5ec8a";$({name:"HeatmapLayer",props:{options:{type:Object,default:()=>({})}},setup(i){let e=v(),t=x(j,v()),s=x(R,v());return O([t,()=>i.options],([,o],[r,l])=>{var n;if(r=!D(o,l)||t.value!==r,t.value&&s.value&&r){if(o=structuredClone(o),o.data&&!(o.data instanceof s.value.MVCArray)){let c=s.value.LatLng;o.data=(n=o.data)===null||n===void 0?void 0:n.map(a=>a instanceof c||"location"in a&&(a.location instanceof c||a.location===null)?a:"location"in a?{...a,location:new c(a.location)}:new c(a))}e.value?e.value.setOptions(o):e.value=L(new s.value.visualization.HeatmapLayer({...o,map:t.value}))}},{immediate:!0}),q(()=>{e.value&&e.value.setMap(null)}),{heatmapLayer:e}},render:()=>null});const pi="/assets/marker.43fb31b7.svg",ui={components:{GoogleMap:de,RestaurantCardComponent:Fe,CustomMarker:he},data:()=>({center:{lat:35.3203,lng:-5.3569},selectedRecommendation:!1}),props:["recommendations"],methods:{chooseMarker:function(i){console.error(i.id),console.warn(i.id),this.selectedRecommendation&&i.id==this.selectedRecommendation.id?(console.log("yes yes"),this.selectedRecommendation=!1):(this.center={lat:i.lat,lng:i.lng},this.selectedRecommendation=i)}}},hi=m("img",{src:pi,width:"50",height:"50",alt:"marker"},null,-1);function mi(i,e,t,s,o,r){const l=C("restaurant-card-component"),n=C("CustomMarker"),c=C("GoogleMap");return g(),S(c,{ref:"map","api-key":"AIzaSyCmq7XqArmmA2cbDG7FNoYxC9qcqCpt74Q",style:{width:"100%",height:"100%"},disableDefaultUi:!0,clickableIcons:!0,center:i.center,fullscreenControl:!1,controlSize:!1,zoom:14},{default:U(()=>[(g(!0),k(I,null,H(t.recommendations,a=>(g(),S(n,{key:a.$key,class:"tw-relative",options:{position:{lat:a.lat,lng:a.lng}},onClick:d=>r.chooseMarker(a)},{default:U(()=>[hi,i.selectedRecommendation.id==a.id?(g(),S(l,{key:0,class:"tw-absolute tw-w-[360px]",recommendation:a},null,8,["recommendation"])):B("",!0)]),_:2},1032,["options","onClick"]))),128))]),_:1},8,["center"])}const gi=M(ui,[["render",mi]]),vi={components:{RestaurantCardComponent:Fe},props:["recommendations"]},fi={class:"tw-flex tw-content-between"},yi={class:"tw-grid tw-grid-cols-2 tw-gap-3"};function wi(i,e,t,s,o,r){const l=C("RestaurantCardComponent");return g(),k(I,null,[m("div",fi,[m("div",yi,[(g(!0),k(I,null,H(t.recommendations,n=>(g(),S(l,{key:n.$key,recommendation:n},null,8,["recommendation"]))),128))])]),w(Ne,{class:"tw-pt-5 tw-self-end",length:6})],64)}const _i=M(vi,[["render",wi]]),Ci={components:{KitchenChipsComponent:He,SearchFilterComponent:jt,SearchMapComponent:gi,SearchListComponent:_i,SelectFieldComponent:De},data:()=>({recommendations:Ue,display:1,sortByItems:[{value:"nearest",text:"plus proche"},{value:"lowest",text:"plus loins"}]}),methods:{toggle(i){this.display=i}}},ki={class:"tw-container tw-mx-auto tw-py-5 tw-flex tw-flex-col tw-gap-6"},xi={class:"tw-grid tw-grid-cols-12 tw-gap-12 tw-h-screen"},bi={class:"tw-h-full tw-col-span-4 tw-overflow-auto tw-overscroll-x-none tw-scroll-smooth"},Si={class:"tw-h-full tw-col-span-8 tw-overflow-auto tw-overscroll-x-none tw-scroll-smooth no-scrollbar"},Mi={class:"tw-flex tw-flex-col tw-h-full"},$i={class:"tw-flex tw-items-center tw-justify-between tw-pb-5"},Oi={class:"tw-font-semibold tw-text-base"},Li={class:"tw-w-25 tw-flex tw-flex-row tw-items-center tw-gap-5"},Fi={class:"tw-flex tw-flex-row tw-items-center tw-bg-[#E5E9EB] tw-rounded-sm"},Pi=m("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"#FFBA07",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M2 0C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2V4C0 4.53043 0.210714 5.03914 0.585786 5.41421C0.960859 5.78929 1.46957 6 2 6H4C4.53043 6 5.03914 5.78929 5.41421 5.41421C5.78929 5.03914 6 4.53043 6 4V2C6 1.46957 5.78929 0.960859 5.41421 0.585786C5.03914 0.210714 4.53043 0 4 0H2ZM2 8C1.46957 8 0.960859 8.21071 0.585786 8.58579C0.210714 8.96086 0 9.46957 0 10V12C0 12.5304 0.210714 13.0391 0.585786 13.4142C0.960859 13.7893 1.46957 14 2 14H4C4.53043 14 5.03914 13.7893 5.41421 13.4142C5.78929 13.0391 6 12.5304 6 12V10C6 9.46957 5.78929 8.96086 5.41421 8.58579C5.03914 8.21071 4.53043 8 4 8H2ZM8 2C8 1.46957 8.21071 0.960859 8.58579 0.585786C8.96086 0.210714 9.46957 0 10 0H12C12.5304 0 13.0391 0.210714 13.4142 0.585786C13.7893 0.960859 14 1.46957 14 2V4C14 4.53043 13.7893 5.03914 13.4142 5.41421C13.0391 5.78929 12.5304 6 12 6H10C9.46957 6 8.96086 5.78929 8.58579 5.41421C8.21071 5.03914 8 4.53043 8 4V2ZM8 10C8 9.46957 8.21071 8.96086 8.58579 8.58579C8.96086 8.21071 9.46957 8 10 8H12C12.5304 8 13.0391 8.21071 13.4142 8.58579C13.7893 8.96086 14 9.46957 14 10V12C14 12.5304 13.7893 13.0391 13.4142 13.4142C13.0391 13.7893 12.5304 14 12 14H10C9.46957 14 8.96086 13.7893 8.58579 13.4142C8.21071 13.0391 8 12.5304 8 12V10Z",fill:"#252C32"})],-1),Ii=[Pi],Ei=m("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.86584 1.75102C0.666016 2.14319 0.666016 2.65657 0.666016 3.68333V4.24603L17.1564 2.74691C17.1395 2.29874 17.0932 2.00037 16.9662 1.75102C16.7905 1.40605 16.51 1.12559 16.165 0.949824C15.7729 0.75 15.2594 0.75 14.2327 0.75H3.59935C2.57259 0.75 2.0592 0.75 1.66703 0.949824C1.32206 1.12559 1.0416 1.40605 0.86584 1.75102ZM17.166 4.58693L12.7066 4.99232L15.004 17.2451C15.5462 17.2333 15.8863 17.1922 16.165 17.0502C16.51 16.8744 16.7905 16.5939 16.9662 16.249C17.166 15.8569 17.166 15.3434 17.166 14.3167V4.58693ZM13.1396 17.25L10.8725 5.15906L0.666016 6.08692V14.3167C0.666016 15.3434 0.666016 15.8569 0.86584 16.249C1.0416 16.5939 1.32206 16.8744 1.66703 17.0502C2.0592 17.25 2.57259 17.25 3.59935 17.25H13.1396ZM9.37435 11.777C9.37435 13.7555 7.41296 15.1454 6.55734 15.6576C6.31479 15.8027 6.01722 15.8027 5.77472 15.6576C4.91911 15.1454 2.95768 13.7555 2.95768 11.777C2.95768 9.83582 4.51223 8.54167 6.16602 8.54167C7.87716 8.54167 9.37435 9.83582 9.37435 11.777Z",fill:"#252C32"})],-1),Bi=[Ei];function Ti(i,e,t,s,o,r){const l=C("kitchen-chips-component"),n=C("search-filter-component"),c=C("select-field-component"),a=C("search-map-component"),d=C("search-list-component");return g(),k("div",ki,[w(l,{"bg-color":"tw-bg-white"}),m("div",xi,[m("div",bi,[w(n,{recommendations:i.recommendations},null,8,["recommendations"])]),m("div",Si,[m("div",Mi,[m("div",$i,[m("span",Oi,F(i.recommendations.length)+" restaurants trouv\xE9s",1),m("div",Li,[w(c,{label:"Trie par",items:i.sortByItems},null,8,["items"]),m("div",Fi,[m("div",{class:te(["tw-p-2",{"tw-bg-[#FFBA07]":i.display==1}]),onClick:e[0]||(e[0]=p=>r.toggle(1))},Ii,2),m("div",{class:te(["tw-p-2",{"tw-bg-[#FFBA07]":i.display!=1}]),onClick:e[1]||(e[1]=p=>r.toggle(0))},Bi,2)])])]),i.display!=1?(g(),S(a,{key:0,recommendations:i.recommendations},null,8,["recommendations"])):B("",!0),i.display==1?(g(),S(d,{key:1,recommendations:i.recommendations},null,8,["recommendations"])):B("",!0)])])])])}const Ui=M(Ci,[["render",Ti]]);export{Ui as default};
